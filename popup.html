<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>超级链接与标签管理工具</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <h1>超级链接与标签管理工具</h1>

  <div class="theme-toggle">
    <label for="themeToggle">暗色模式</label>
    <input type="checkbox" id="themeToggle" />
  </div>

  <div id="tabCount" style="margin-bottom:10px;font-size:13px;"></div>

  <!-- Movie Links Opener 部分 -->
  <div class="section">
    <h2>电影链接打开器</h2>
    <input type="text" id="movieUrl" placeholder="输入电影链接的URL">
    <label>
      <input type="checkbox" id="topOption"> TOP?
    </label>

    <!-- 防火墙规避配置 -->
    <div style="margin-top: 8px; font-size: 12px;">
      <label>
        每批数量: <input type="number" id="batchSize" value="2" min="1" max="10" style="width: 50px;">
      </label>
      <label style="margin-left: 10px;">
        间隔秒数: <input type="number" id="delaySeconds" value="3" min="1" max="30" step="0.5" style="width: 50px;">
      </label>
    </div>

    <button id="openMovieLinks">打开电影链接</button>
    <div id="movieProgress" style="font-size:12px;margin-top:4px;color:#666;"></div>
  </div>
  <!-- Tab Reloader 部分 -->
  <div class="section">
    <h2>标签页刷新器</h2>
    <input type="number" id="refreshInterval" value="1" step="0.1" min="0.1" placeholder="刷新间隔（秒）">
    <button id="startRefreshing">开始刷新</button>
    <button id="stopRefreshing">停止刷新</button>
    <div id="refreshProgress" style="font-size:12px;margin-top:4px;"></div>
  </div>

  <!-- Magnet Link Extractor 部分 -->
  <div class="section">
    <h2>磁力链接提取器</h2>
    <button id="extractMagnetLinks">提取磁力链接（每个标签页第一条）</button>
    <button id="extractAllMagnetLinks">提取所有磁力链接（所有页面所有链接）</button>
    <button id="copyMagnetLinks">复制磁力链接</button>
    <div id="resultContainer"></div>
  </div>

  <!-- Toast 提示框 -->
  <div id="toast"></div>

  <script type="module" src="popup.js"></script>
</body>
</html>